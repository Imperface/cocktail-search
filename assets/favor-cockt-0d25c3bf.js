(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&c(i)}).observe(document,{childList:!0,subtree:!0});function r(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(e){if(e.ep)return;e.ep=!0;const n=r(e);fetch(e.href,n)}})();(()=>{const o={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};o.openModalBtn.addEventListener("click",t),o.closeModalBtn.addEventListener("click",t);function t(){o.modal.classList.toggle("is-hidden")}})();const u=document.querySelector(".dropbtn"),d=document.querySelector(".icon-chevron-down");u.addEventListener("click",m);function m(){document.getElementById("myDropdown").classList.toggle("show"),d.classList.toggle("rotate")}window.onclick=function(o){if(!o.target.matches(".dropbtn")){const t=document.getElementById("myDropdown");t.classList.contains("show")&&(t.classList.remove("show"),d.classList.toggle("rotate"))}};const f=document.querySelectorAll("#js-btn-change-theme");function g(o){[...document.querySelectorAll(".change-theme")].forEach(r=>{r.classList.toggle("dark-mode")})}f.forEach(o=>{o.addEventListener("click",g)});const v=document.querySelector(".cocktails__list");v.addEventListener("click",L);function _(o,t){if(t==="favorites")return s().find(c=>c.id===o)?"remove_favorites_js":"add_favorites_js";if(t==="modalCocktail")return!!s().find(c=>c.id===o)}const a=document.querySelector(".modal-button-favorite");function h(o){const r=document.querySelector(".js-modal-cocktails-item").getAttribute("id");if(_(r,"modalCocktail")){a.textContent="Remove from favorite";let e=s();console.log(e.length),e=e.filter(n=>n.id!==r),l(e),console.log(e.length);return}else a.textContent="Add to favorite"}function L(o){const t=o.target;if(t.classList.contains("learnmore__btn")&&(a.addEventListener("click",h),console.log("Open modal")),!!t.classList.contains("svg__btn")){if(t.classList.contains("remove_favorites_js")){t.classList.add("add_favorites_js"),t.classList.remove("remove_favorites_js");const c=t.closest(".cocktails__item").getAttribute("id");let e=s();console.log(e.length),e=e.filter(n=>n.id!==c),l(e),console.log(e.length);return}k(o),t.classList.remove("add_favorites_js"),t.classList.add("remove_favorites_js")}}function s(){return JSON.parse(localStorage.getItem("favorites"))||[]}function l(o){localStorage.setItem("favorites",JSON.stringify(o))}function k(o){const t=o.target.closest(".cocktails__item");if(t){const c={id:t.getAttribute("id"),name:t.querySelector(".cocktails__item__header").textContent,description:t.querySelector(".cocktails__item__description").textContent,imageSrc:t.querySelector(".cocktails__item__img").src};let e=s();e.some(n=>n.id===c.id)||(e.push(c),l(e))}}document.querySelector(".favor__list");export{_ as c};
