(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))c(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&c(n)}).observe(document,{childList:!0,subtree:!0});function s(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(t){if(t.ep)return;t.ep=!0;const o=s(t);fetch(t.href,o)}})();(()=>{const r={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};r.openModalBtn.addEventListener("click",e),r.closeModalBtn.addEventListener("click",e);function e(){r.modal.classList.toggle("is-hidden")}})();const v=document.querySelector(".dropbtn"),u=document.querySelector(".icon-chevron-down");v.addEventListener("click",g);function g(){document.getElementById("myDropdown").classList.toggle("show"),u.classList.toggle("rotate")}window.onclick=function(r){if(!r.target.matches(".dropbtn")){const e=document.getElementById("myDropdown");e.classList.contains("show")&&(e.classList.remove("show"),u.classList.toggle("rotate"))}};const _=document.querySelectorAll("#js-btn-change-theme");function k(r){[...document.querySelectorAll(".change-theme")].forEach(s=>{s.classList.toggle("dark-mode")})}_.forEach(r=>{r.addEventListener("click",k)});const L=document.querySelector(".cocktails__list");L.addEventListener("click",p);function h(r,e){if(e==="favorites")return i().find(c=>c.id===r)?"remove_favorites_js":"add_favorites_js";if(e==="modalCocktail")return!!i().find(c=>c.id===r)}const a=document.querySelector(".modal-button-favorite");function y(r){const e=document.querySelector(".js-modal-cocktails-item"),s=e.getAttribute("id"),c=document.querySelector(`[data-cocktId = "${s}"]`);if(h(s,"modalCocktail")){a.textContent="Remove from favorite";let o=i();o=o.filter(n=>n.id!==s),l(o),c.classList.add("add_favorites_js"),c.classList.remove("remove_favorites_js"),a.textContent="Add to favorite";return}else{a.textContent="Add to favorite",i();const o=e;if(o){const m={id:o.getAttribute("id"),name:o.querySelector(".modal-cocktails-card-title").textContent,description:o.querySelector(".modal-cocktail-item-description").textContent,imageSrc:o.querySelector(".modal-cocktails-img").src};let d=i();d.some(f=>f.id===m.id)||(d.push(m),l(d))}c.classList.remove("add_favorites_js"),c.classList.add("remove_favorites_js"),a.textContent="Remove from favorite";return}}function p(r){const e=r.target;if(e.classList.contains("learnmore__btn")&&(a.addEventListener("click",y),console.log("Open modal")),!!e.classList.contains("svg__btn")){if(e.classList.contains("remove_favorites_js")){e.classList.add("add_favorites_js"),e.classList.remove("remove_favorites_js");const c=e.closest(".cocktails__item").getAttribute("id");let t=i();console.log(t.length),t=t.filter(o=>o.id!==c),l(t),console.log(t.length);return}S(r),e.classList.remove("add_favorites_js"),e.classList.add("remove_favorites_js")}}function i(){return JSON.parse(localStorage.getItem("favorites"))||[]}function l(r){localStorage.setItem("favorites",JSON.stringify(r))}function S(r){const e=r.target.closest(".cocktails__item");if(e){const c={id:e.getAttribute("id"),name:e.querySelector(".cocktails__item__header").textContent,description:e.querySelector(".cocktails__item__description").textContent,imageSrc:e.querySelector(".cocktails__item__img").src};let t=i();t.some(o=>o.id===c.id)||(t.push(c),l(t))}}document.querySelector(".favor__list");export{h as c};
