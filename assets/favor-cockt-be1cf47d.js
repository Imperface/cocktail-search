(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function i(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(t){if(t.ep)return;t.ep=!0;const o=i(t);fetch(t.href,o)}})();(()=>{const r={openModalBtn:document.querySelector("[data-modal-open]"),closeModalBtn:document.querySelector("[data-modal-close]"),modal:document.querySelector("[data-modal]")};r.openModalBtn.addEventListener("click",e),r.closeModalBtn.addEventListener("click",e);function e(){r.modal.classList.toggle("is-hidden")}})();const v=document.querySelector(".dropbtn"),u=document.querySelector(".icon-chevron-down");v.addEventListener("click",g);function g(){document.getElementById("myDropdown").classList.toggle("show"),u.classList.toggle("rotate")}window.onclick=function(r){if(!r.target.matches(".dropbtn")){const e=document.getElementById("myDropdown");e.classList.contains("show")&&(e.classList.remove("show"),u.classList.toggle("rotate"))}};const _=document.querySelectorAll("#js-btn-change-theme");function k(r){[...document.querySelectorAll(".change-theme")].forEach(i=>{i.classList.toggle("dark-mode")})}_.forEach(r=>{r.addEventListener("click",k)});const L=document.querySelector(".cocktails__list");L.addEventListener("click",S);function h(r,e){if(e==="favorites")return c().find(s=>s.id===r)?"remove_favorites_js":"add_favorites_js";if(e==="modalCocktail")return!!c().find(s=>s.id===r);if(e==="favorIngred"){const i=JSON.parse(localStorage.getItem("basket"))||[];if(i)return!!i.find(t=>t.id===r)}}const a=document.querySelector(".modal-button-favorite");function y(r){const e=document.querySelector(".js-modal-cocktails-item"),i=e.getAttribute("id"),s=document.querySelector(`[data-cocktId = "${i}"]`);if(h(i,"modalCocktail")){a.textContent="Remove from favorite";let o=c();o=o.filter(n=>n.id!==i),l(o),s.classList.add("add_favorites_js"),s.classList.remove("remove_favorites_js"),a.textContent="Add to favorite";return}else{a.textContent="Add to favorite",c();const o=e;if(o){const f={id:o.getAttribute("id"),name:o.querySelector(".modal-cocktails-card-title").textContent,description:o.querySelector(".modal-cocktail-item-description").textContent,imageSrc:o.querySelector(".modal-cocktails-img").src};let d=c();d.some(m=>m.id===f.id)||(d.push(f),l(d))}s.classList.remove("add_favorites_js"),s.classList.add("remove_favorites_js"),a.textContent="Remove from favorite";return}}function S(r){const e=r.target;if(e.classList.contains("learnmore__btn")&&a.addEventListener("click",y),!!e.classList.contains("svg__btn")){if(e.classList.contains("remove_favorites_js")){e.classList.add("add_favorites_js"),e.classList.remove("remove_favorites_js");const s=e.closest(".cocktails__item").getAttribute("id");let t=c();t=t.filter(o=>o.id!==s),l(t);return}p(r),e.classList.remove("add_favorites_js"),e.classList.add("remove_favorites_js")}}function c(){return JSON.parse(localStorage.getItem("favorites"))||[]}function l(r){localStorage.setItem("favorites",JSON.stringify(r))}function p(r){const e=r.target.closest(".cocktails__item");if(e){const s={id:e.getAttribute("id"),name:e.querySelector(".cocktails__item__header").textContent,description:e.querySelector(".cocktails__item__description").textContent,imageSrc:e.querySelector(".cocktails__item__img").src};let t=c();t.some(o=>o.id===s.id)||(t.push(s),l(t))}}document.querySelector(".favor__list");export{h as c};
